<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>따끈따끈 베이커리</title>
    <link rel="shortcut icon" href="./images/saltbread.jpg" type="image/x-icon">
    <link rel="stylesheet" href="./css/mainStyle.css"> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gaegu&display=swap" rel="stylesheet">
    
</head>
<body>
    <div id="wrapper">
        <a href="main.html" style="color: black">
            <div id ="header">
                <marquee direction=left ><b>🥨따끈따끈 베이커리에 오신 걸 환영합니다🍞</b></marquee>
            </div>
        </a>
        <div id = "middle">
            <div>
                <table>
                    <tr>
                        <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                        <td>&nbsp;&nbsp;&nbsp;&nbsp;🥞제품안내&nbsp;&nbsp;&nbsp;&nbsp;</td>
                        <td onclick="location.href='./gesi_write.html'">❓문의하기</td>
                    </tr>
                    <tr>
                        <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                    </tr>
                </table>
            </div>
            <div id="empty1"></div>
            <button id="buttonL" onclick="f_prev()"> < </button>
                <div id="content2">
                    <div class="eventMenu" style="z-index: 999;">
                        <img class="event" src="./images/event1.jpg">
                    </div>    
                    <div class="eventMenu" style="z-index: 888;">
                        <img class ="event" src="./images/event2.jpg">
                    </div>
                    <div class="eventMenu" style="z-index: 888;">
                        <img class="event" src="./images/event3.jpg">
                    </div>
                </div>
                <button id="buttonR" onclick="f_next()">></button>
                <div id="empty2"></div>
                <div id="content1">
                    <img class="newmenu" src="./images/autumn.jpg">
                    <img class="new" src="./images/new1.jpg">
                    <h1 class="newtext">가을맞이<br>신제품!</h1>
                    <div id="empty"></div>
                    <div>
                        <img class="sub" src="./images/new2.jpg">
                        <img class="sub" src="./images/new3.jpg" >
                        <img class="sub" src="./images/new4.jpg" >
                        <img class="sub" src="./images/new5.jpg" >
                    </div>
                </div>
                <div id="empty2"></div>
                <button id="buttonL" onclick="f_prev()"> < </button>
                <div id="content2">
                    <div class="eventMenu" style="z-index: 999;">
                        <img class="event" src="./images/event1.jpg">
                    </div>    
                    <div class="eventMenu" style="z-index: 888;">
                        <img class ="event" src="./images/event2.jpg">
                    </div>
                    <div class="eventMenu" style="z-index: 888;">
                        <img class="event" src="./images/event3.jpg">
                    </div>
                </div>
                <button id="buttonR" onclick="f_next()">></button>
        </div>
        <div id = "footer"></div>
    </div>
<script>
var mainImg = document.querySelector(".new");     
var subImg = document.querySelectorAll(".sub");   
for(var i = 0 ; i < subImg.length ; i++){
    subImg[i].onclick = changeImg;
    // console.log(subImg[i]);
}

function changeImg(){  
    var subImgCh = this.getAttribute("src");
    // console.log(getElementsByClassName("sub").src);
    mainImg.setAttribute("src", subImgCh); 
}
var v_eventImg;
window.onload = function(){
    v_eventImg = document.querySelectorAll(".eventMenu");
     f_next();
    console.log(v_eventImg);
 }
 var v_lIndex =0;   
 function f_initZindex(p_layers){
     for(var i = 0; i<p_layers.length; i++){
         p_layers[i].style.zIndex = 1;
     }
 }
function f_prev(){
        f_initZindex(v_eventImg);
        v_lIndex--;
        if(v_lIndex == -1){
            v_lIndex = v_eventImg.length-1; 
        }
        v_eventImg[v_lIndex].style.zIndex = 999; 
    }

function f_next(){
    f_initZindex(v_eventImg);
    v_lIndex++;
    if(v_lIndex == v_eventImg.length){
        v_lIndex =0; 
    }
    v_eventImg[v_lIndex].style.zIndex = 999;
    setTimeout(f_next,1300);
}
</script>
</body>
</html>